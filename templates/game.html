{% extends 'base.html' %}

{% block content %}

    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

    <h1>{% block title %} Game {% endblock %}</h1>

    <h1>Hello World!</h1>
    <h2>Welcome to FlaskApp!</h2>

    <div id="mynetwork" style = "width: 600px; height: 400px; border: 1px solid lightgray;"></div>

    <script type="text/javascript">
      // create an array with nodes
      var nodes = new vis.DataSet([{{ nodes }}]);

      // create an array with edges
      var edges = new vis.DataSet([{{ connections }}]);

      // create a network
      var container = document.getElementById("mynetwork");
      var data = {
        nodes: nodes,
        edges: edges,
      };
      var options = {};
      var network = new vis.Network(container, data, options);

      network.on("click", function (params) {
        params.event = "[original event]";
        document.getElementById("eventSpanHeading").innerText = "Click event:";
        document.getElementById("eventSpanContent").innerText = params.nodes
        console.log(
          "click event, getNodeAt returns: " +
            this.getNodeAt(params.pointer.DOM)
        );
      });
    </script>
    <div id="eventSpanHeading"></div>
    <div id="eventSpanContent"></div>

{% endblock %}